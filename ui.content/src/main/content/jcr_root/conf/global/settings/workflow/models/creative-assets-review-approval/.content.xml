<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Page">
    <jcr:content
        cq:designPath="/libs/settings/wcm/designs/default"
        cq:lastModified="{Date}2018-10-12T14:53:58.451-04:00"
        cq:lastModifiedBy="admin"
        cq:template="/libs/cq/workflow/templates/model"
        jcr:description="Workflow to initiate approval process by Designers for their creative assets"
        jcr:primaryType="cq:PageContent"
        jcr:title="Creative Approval"
        sling:resourceType="cq/workflow/components/pages/model"
        multiResourceSupport="true"
        workflowStages="[Approvals,Send Back for Rework,Upload to LPDS]">
        <flow
            jcr:primaryType="nt:unstructured"
            sling:resourceType="foundation/components/parsys">
            <and
                jcr:created="{Date}2018-10-01T14:32:59.137-04:00"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2018-10-01T14:34:22.354-04:00"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Create Required Approval Tasks"
                sling:resourceType="cq/workflow/components/model/and"
                branches="5">
                <_x0031_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <or
                        jcr:created="{Date}2018-10-02T10:40:36.043-04:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2018-10-02T11:21:40.596-04:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/workflow/components/model/or"
                        branches="2"
                        orSplit="true"
                        script1="function check() {&#xd;&#xa;var aprvlFrmPMM = workflowData.getMetaDataMap().get(&quot;aprvlFrmPMM&quot;,&quot;&quot;); &#xd;&#xa;if(aprvlFrmPMM == &quot;yes&quot;) {&#xd;&#xa;return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                        <_x0031_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <taskworkflowstep_cop
                                jcr:created="{Date}2018-10-01T11:08:06.202-04:00"
                                jcr:createdBy="admin"
                                jcr:description="Create a an approval task for PMMs. Priority is Medium."
                                jcr:lastModified="{Date}2018-10-09T14:29:14.845-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="PMM Approval Task"
                                sling:resourceType="cq/projects/taskworkflowstep">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    argActions="[Approved,Request Changes]"
                                    argTaskDescription="Request to review the assets and provide feedback through annotation and comments. Before completing the approval task, you can either &quot;Approve&quot; or &quot;Request for Changes&quot;"
                                    argTaskName="PMM - Review and Approve Assets"
                                    argTaskPriority="Medium"
                                    PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                    PROCESS_AUTO_ADVANCE="false"
                                    PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                    script="var projectPMMGrp = workflowData.getMetaDataMap().get(&quot;project.group.pmm&quot;,&quot;administrators&quot;);&#xd;&#xa;task.setCurrentAssignee(projectPMMGrp);&#xd;&#xa;&#xd;&#xa;"
                                    sendEmailNotification="true"
                                    workflowStage="Approvals"/>
                            </taskworkflowstep_cop>
                            <or
                                jcr:created="{Date}2018-10-03T10:02:55.645-04:00"
                                jcr:createdBy="admin"
                                jcr:lastModified="{Date}2018-10-03T10:04:12.399-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/workflow/components/model/or"
                                branches="2"
                                orSplit="true"
                                script1="function check(){&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; if(lastAction == &quot;Request Changes&quot;) {&#xd;&#xa;  return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                                <_x0031_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <taskworkflowstep
                                        jcr:created="{Date}2018-10-03T09:57:05.742-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Project Task Creation Step"
                                        jcr:lastModified="{Date}2018-10-09T14:25:00.799-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back to Designer"
                                        sling:resourceType="cq/projects/taskworkflowstep">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            argActions="[Send for Another Approval,Close the Task ( No need for another approval)]"
                                            argTaskDescription="Request for Changes has come, as a follow-up to Approval request task. "
                                            argTaskName="PMM - Request Changes"
                                            PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                            script="var initiator = workItem.getWorkflow().getInitiator();&#xd;&#xa;task.setCurrentAssignee(initiator);&#xd;&#xa;"
                                            sendEmailNotification="true"
                                            workflowStage="Send Back for Rework"/>
                                    </taskworkflowstep>
                                    <goto
                                        jcr:created="{Date}2018-10-03T10:13:41.660-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Goto Step"
                                        jcr:lastModified="{Date}2018-10-03T10:41:21.029-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back for Approval"
                                        sling:resourceType="cq/workflow/components/model/goto">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="com.adobe.granite.workflow.core.process.GotoProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            script="function check() {&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; &#xd;&#xa;if(lastAction == &quot;Send for Another Approval&quot;) {&#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa; &#xd;&#xa;return false;&#xd;&#xa;}&#xd;&#xa;"
                                            TARGET_NODE_PATH="/conf/global/settings/workflow/models/creative-assets-review-approval/jcr:content/flow/and/1/or/1/taskworkflowstep_cop"
                                            workflowStage="Approvals"/>
                                    </goto>
                                </_x0031_>
                                <_x0032_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <noopprocess_copy
                                        jcr:created="{Date}2018-10-02T10:41:13.185-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="A no operation process"
                                        jcr:lastModified="{Date}2018-10-02T11:22:32.100-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="No Operation"
                                        sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="/libs/workflow/scripts/noop.ecma"
                                            PROCESS_AUTO_ADVANCE="true"/>
                                    </noopprocess_copy>
                                </_x0032_>
                            </or>
                        </_x0031_>
                        <_x0032_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <noopprocess
                                jcr:created="{Date}2018-10-02T10:41:13.185-04:00"
                                jcr:createdBy="admin"
                                jcr:description="A no operation process"
                                jcr:lastModified="{Date}2018-10-02T11:22:32.100-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="No Operation"
                                sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    PROCESS="/libs/workflow/scripts/noop.ecma"
                                    PROCESS_AUTO_ADVANCE="true"/>
                            </noopprocess>
                        </_x0032_>
                    </or>
                </_x0031_>
                <_x0032_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <or
                        jcr:created="{Date}2018-10-02T10:41:44.990-04:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2018-10-02T11:21:56.205-04:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/workflow/components/model/or"
                        branches="2"
                        orSplit="true"
                        script1="function check() {&#xd;&#xa;var aprvlFrmCopywriter = workflowData.getMetaDataMap().get(&quot;aprvlFrmCopywriter&quot;,&quot;&quot;); &#xd;&#xa;if(aprvlFrmCopywriter == &quot;yes&quot;) {&#xd;&#xa;  return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                        <_x0031_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <taskworkflowstep_cop
                                jcr:created="{Date}2018-10-01T11:12:14.469-04:00"
                                jcr:createdBy="admin"
                                jcr:description="Create a an approval task for Copywriter. Priority is Medium."
                                jcr:lastModified="{Date}2018-10-09T14:29:25.483-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="Copywriter Approval Task"
                                sling:resourceType="cq/projects/taskworkflowstep">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    argActions="[Approved,Request Changes]"
                                    argTaskDescription="Request to review the assets and provide feedback through annotation and comments. Before completing the approval task, you can either &quot;Approve&quot; or &quot;Request for Changes&quot;"
                                    argTaskName="Copywriter - Review and Approve Assets"
                                    argTaskPriority="Medium"
                                    PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                    PROCESS_AUTO_ADVANCE="false"
                                    PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                    script="var projectCopywriterGrp = workflowData.getMetaDataMap().get(&quot;project.group.copywriter&quot;,&quot;administrators&quot;);&#xd;&#xa;task.setCurrentAssignee(projectCopywriterGrp);&#xd;&#xa;"
                                    sendEmailNotification="true"
                                    workflowStage="Approvals"/>
                            </taskworkflowstep_cop>
                            <or_copy
                                jcr:created="{Date}2018-10-03T10:02:55.645-04:00"
                                jcr:createdBy="admin"
                                jcr:lastModified="{Date}2018-10-03T10:04:12.399-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/workflow/components/model/or"
                                branches="2"
                                orSplit="true"
                                script1="function check(){&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; if(lastAction == &quot;Request Changes&quot;) {&#xd;&#xa;  return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                                <_x0031_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <taskworkflowstep
                                        jcr:created="{Date}2018-10-03T09:57:05.742-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Project Task Creation Step"
                                        jcr:lastModified="{Date}2018-10-09T14:25:07.956-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back to Designer"
                                        sling:resourceType="cq/projects/taskworkflowstep">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            argActions="[Send for Another Approval,Close the Task ( No need for another approval)]"
                                            argTaskDescription="Request for Changes has come, as a follow-up to Approval request task. "
                                            argTaskName="Copywriter - Request Changes"
                                            PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                            script="var initiator = workItem.getWorkflow().getInitiator();&#xd;&#xa;task.setCurrentAssignee(initiator);&#xd;&#xa;"
                                            sendEmailNotification="true"
                                            workflowStage="Send Back for Rework"/>
                                    </taskworkflowstep>
                                    <goto
                                        jcr:created="{Date}2018-10-03T10:13:41.660-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Goto Step"
                                        jcr:lastModified="{Date}2018-10-03T10:41:26.338-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back for Approval"
                                        sling:resourceType="cq/workflow/components/model/goto">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="com.adobe.granite.workflow.core.process.GotoProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            script="function check() {&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; &#xd;&#xa;if(lastAction == &quot;Send for Another Approval&quot;) {&#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa; &#xd;&#xa;return false;&#xd;&#xa;}&#xd;&#xa;"
                                            TARGET_NODE_PATH="/conf/global/settings/workflow/models/creative-assets-review-approval/jcr:content/flow/and/2/or/1/taskworkflowstep_cop"
                                            workflowStage="Approvals"/>
                                    </goto>
                                </_x0031_>
                                <_x0032_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <noopprocess_copy
                                        jcr:created="{Date}2018-10-02T10:41:13.185-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="A no operation process"
                                        jcr:lastModified="{Date}2018-10-02T11:22:32.100-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="No Operation"
                                        sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="/libs/workflow/scripts/noop.ecma"
                                            PROCESS_AUTO_ADVANCE="true"/>
                                    </noopprocess_copy>
                                </_x0032_>
                            </or_copy>
                        </_x0031_>
                        <_x0032_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <noopprocess
                                jcr:created="{Date}2018-10-02T10:41:55.317-04:00"
                                jcr:createdBy="admin"
                                jcr:description="A no operation process"
                                jcr:lastModified="{Date}2018-10-02T11:22:36.652-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="No Operation"
                                sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    PROCESS="/libs/workflow/scripts/noop.ecma"
                                    PROCESS_AUTO_ADVANCE="true"/>
                            </noopprocess>
                        </_x0032_>
                    </or>
                </_x0032_>
                <_x0033_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <or
                        jcr:created="{Date}2018-10-02T10:42:03.568-04:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2018-10-02T11:22:06.757-04:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/workflow/components/model/or"
                        branches="2"
                        orSplit="true"
                        script1="function check() {&#xd;&#xa;var aprvlFrmProjectmanager = workflowData.getMetaDataMap().get(&quot;aprvlFrmProjectmanager&quot;,&quot;&quot;); &#xd;&#xa;if(aprvlFrmProjectmanager == &quot;yes&quot;) {&#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                        <_x0031_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <taskworkflowstep_cop
                                jcr:created="{Date}2018-10-01T11:14:40.191-04:00"
                                jcr:createdBy="admin"
                                jcr:description="Create a an approval task for Project Manager. Priority is Medium."
                                jcr:lastModified="{Date}2018-10-09T14:29:32.080-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="Project Manager Approval Task"
                                sling:resourceType="cq/projects/taskworkflowstep">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    argActions="[Approved,Request Changes]"
                                    argTaskDescription="Request to review the assets and provide feedback through annotation and comments. Before completing the approval task, you can either &quot;Approve&quot; or &quot;Request for Changes&quot;"
                                    argTaskName="Project Manager - Review and Approve Assets"
                                    argTaskPriority="Medium"
                                    PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                    PROCESS_AUTO_ADVANCE="false"
                                    PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                    script="var projectMngrGrp = workflowData.getMetaDataMap().get(&quot;project.group.projectmanager&quot;,&quot;administrators&quot;);&#xd;&#xa;task.setCurrentAssignee(projectMngrGrp);&#xd;&#xa;"
                                    sendEmailNotification="true"
                                    workflowStage="Approvals"/>
                            </taskworkflowstep_cop>
                            <or_copy
                                jcr:created="{Date}2018-10-03T10:02:55.645-04:00"
                                jcr:createdBy="admin"
                                jcr:lastModified="{Date}2018-10-03T10:04:12.399-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/workflow/components/model/or"
                                branches="2"
                                orSplit="true"
                                script1="function check(){&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; if(lastAction == &quot;Request Changes&quot;) {&#xd;&#xa;  return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                                <_x0031_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <taskworkflowstep
                                        jcr:created="{Date}2018-10-03T09:57:05.742-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Project Task Creation Step"
                                        jcr:lastModified="{Date}2018-10-09T14:25:25.053-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back to Designer"
                                        sling:resourceType="cq/projects/taskworkflowstep">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            argActions="[Send for Another Approval,Close the Task ( No need for another approval)]"
                                            argTaskDescription="Request for Changes has come, as a follow-up to Approval request task. "
                                            argTaskName="Project Manager - Request Changes"
                                            PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                            script="var initiator = workItem.getWorkflow().getInitiator();&#xd;&#xa;task.setCurrentAssignee(initiator);&#xd;&#xa;"
                                            sendEmailNotification="true"
                                            workflowStage="Send Back for Rework"/>
                                    </taskworkflowstep>
                                    <goto
                                        jcr:created="{Date}2018-10-03T10:13:41.660-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Goto Step"
                                        jcr:lastModified="{Date}2018-10-03T10:41:31.757-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back for Approval"
                                        sling:resourceType="cq/workflow/components/model/goto">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="com.adobe.granite.workflow.core.process.GotoProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            script="function check() {&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; &#xd;&#xa;if(lastAction == &quot;Send for Another Approval&quot;) {&#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa; &#xd;&#xa;return false;&#xd;&#xa;}&#xd;&#xa;"
                                            TARGET_NODE_PATH="/conf/global/settings/workflow/models/creative-assets-review-approval/jcr:content/flow/and/3/or/1/taskworkflowstep_cop"
                                            workflowStage="Approvals"/>
                                    </goto>
                                </_x0031_>
                                <_x0032_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <noopprocess_copy
                                        jcr:created="{Date}2018-10-02T10:41:13.185-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="A no operation process"
                                        jcr:lastModified="{Date}2018-10-02T11:22:32.100-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="No Operation"
                                        sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="/libs/workflow/scripts/noop.ecma"
                                            PROCESS_AUTO_ADVANCE="true"/>
                                    </noopprocess_copy>
                                </_x0032_>
                            </or_copy>
                        </_x0031_>
                        <_x0032_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <noopprocess
                                jcr:created="{Date}2018-10-02T10:42:13.262-04:00"
                                jcr:createdBy="admin"
                                jcr:description="A no operation process"
                                jcr:lastModified="{Date}2018-10-02T11:22:41.796-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="No Operation"
                                sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    PROCESS="/libs/workflow/scripts/noop.ecma"
                                    PROCESS_AUTO_ADVANCE="true"/>
                            </noopprocess>
                        </_x0032_>
                    </or>
                </_x0033_>
                <_x0034_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <or
                        jcr:created="{Date}2018-10-02T10:42:20.038-04:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2018-10-02T11:22:16.081-04:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/workflow/components/model/or"
                        branches="2"
                        orSplit="true"
                        script1="function check() {&#xd;&#xa;var aprvlFrmCreativedirector = workflowData.getMetaDataMap().get(&quot;aprvlFrmCreativedirector&quot;,&quot;&quot;); &#xd;&#xa;if(aprvlFrmCreativedirector == &quot;yes&quot;) {    &#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                        <_x0031_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <taskworkflowstep_cop
                                jcr:created="{Date}2018-10-01T11:17:19.047-04:00"
                                jcr:createdBy="admin"
                                jcr:description="Create a an approval task for Creative Director. Priority is Medium."
                                jcr:lastModified="{Date}2018-10-09T14:29:38.874-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="Creative Director Approval"
                                sling:resourceType="cq/projects/taskworkflowstep">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    argActions="[Approved,Request Changes]"
                                    argTaskDescription="Request to review the assets and provide feedback through annotation and comments. Before completing the approval task, you can either &quot;Approve&quot; or &quot;Request for Changes&quot;"
                                    argTaskName="Creative Director - Review and Approve Assets"
                                    argTaskPriority="Medium"
                                    PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                    PROCESS_AUTO_ADVANCE="false"
                                    PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                    script="var projectCreativeDirGrp = workflowData.getMetaDataMap().get(&quot;project.group.creativedirector&quot;,&quot;administrators&quot;);&#xd;&#xa;    task.setCurrentAssignee(projectCreativeDirGrp);&#xd;&#xa;   "
                                    sendEmailNotification="true"
                                    workflowStage="Approvals"/>
                            </taskworkflowstep_cop>
                            <or_copy
                                jcr:created="{Date}2018-10-03T10:02:55.645-04:00"
                                jcr:createdBy="admin"
                                jcr:lastModified="{Date}2018-10-03T10:04:12.399-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/workflow/components/model/or"
                                branches="2"
                                orSplit="true"
                                script1="function check(){&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; if(lastAction == &quot;Request Changes&quot;) {&#xd;&#xa;  return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                                <_x0031_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <taskworkflowstep
                                        jcr:created="{Date}2018-10-03T09:57:05.742-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Project Task Creation Step"
                                        jcr:lastModified="{Date}2018-10-09T14:25:32.193-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back to Designer"
                                        sling:resourceType="cq/projects/taskworkflowstep">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            argActions="[Send for Another Approval,Close the Task ( No need for another approval)]"
                                            argTaskDescription="Request for Changes has come, as a follow-up to Approval request task. "
                                            argTaskName="Creative Director - Request Changes"
                                            PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                            script="var initiator = workItem.getWorkflow().getInitiator();&#xd;&#xa;task.setCurrentAssignee(initiator);&#xd;&#xa;"
                                            sendEmailNotification="true"
                                            workflowStage="Send Back for Rework"/>
                                    </taskworkflowstep>
                                    <goto
                                        jcr:created="{Date}2018-10-03T10:13:41.660-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Goto Step"
                                        jcr:lastModified="{Date}2018-10-03T10:41:37.357-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back for Approval"
                                        sling:resourceType="cq/workflow/components/model/goto">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="com.adobe.granite.workflow.core.process.GotoProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            script="function check() {&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; &#xd;&#xa;if(lastAction == &quot;Send for Another Approval&quot;) {&#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa; &#xd;&#xa;return false;&#xd;&#xa;}&#xd;&#xa;"
                                            TARGET_NODE_PATH="/conf/global/settings/workflow/models/creative-assets-review-approval/jcr:content/flow/and/4/or/1/taskworkflowstep_cop"
                                            workflowStage="Approvals"/>
                                    </goto>
                                </_x0031_>
                                <_x0032_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <noopprocess_copy
                                        jcr:created="{Date}2018-10-02T10:41:13.185-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="A no operation process"
                                        jcr:lastModified="{Date}2018-10-02T11:22:32.100-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="No Operation"
                                        sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="/libs/workflow/scripts/noop.ecma"
                                            PROCESS_AUTO_ADVANCE="true"/>
                                    </noopprocess_copy>
                                </_x0032_>
                            </or_copy>
                        </_x0031_>
                        <_x0032_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <noopprocess
                                jcr:created="{Date}2018-10-02T10:42:29.536-04:00"
                                jcr:createdBy="admin"
                                jcr:description="A no operation process"
                                jcr:lastModified="{Date}2018-10-02T11:22:46.606-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="No Operation"
                                sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    PROCESS="/libs/workflow/scripts/noop.ecma"
                                    PROCESS_AUTO_ADVANCE="true"/>
                            </noopprocess>
                        </_x0032_>
                    </or>
                </_x0034_>
                <_x0035_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <or
                        jcr:created="{Date}2018-10-02T10:42:36.073-04:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2018-10-02T11:22:25.773-04:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/workflow/components/model/or"
                        branches="2"
                        orSplit="true"
                        script1="function check() {&#xd;&#xa;var aprvlFrmCompliance = workflowData.getMetaDataMap().get(&quot;aprvlFrmCompliance&quot;,&quot;&quot;); &#xd;&#xa;if(aprvlFrmCompliance == &quot;yes&quot;) {&#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}&#xd;&#xa;">
                        <_x0031_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <taskworkflowstep_cop
                                jcr:created="{Date}2018-10-01T11:19:17.370-04:00"
                                jcr:createdBy="admin"
                                jcr:description="Create a an approval task for Compliance. Priority is Medium."
                                jcr:lastModified="{Date}2018-10-09T14:29:45.923-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="Compliance Approval Task"
                                sling:resourceType="cq/projects/taskworkflowstep">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    argActions="[Approved,Request Changes]"
                                    argTaskDescription="Request to review the assets and provide feedback through annotation and comments. Before completing the approval task, you can either &quot;Approve&quot; or &quot;Request for Changes&quot;"
                                    argTaskName="Compliance - Review and Approve Assets"
                                    argTaskPriority="Medium"
                                    PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                    PROCESS_AUTO_ADVANCE="false"
                                    PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                    script="var projectComplianceGrp = workflowData.getMetaDataMap().get(&quot;project.group.compliance&quot;,&quot;administrators&quot;);&#xd;&#xa;    task.setCurrentAssignee(projectComplianceGrp);&#xd;&#xa;   "
                                    sendEmailNotification="true"
                                    workflowStage="Approvals"/>
                            </taskworkflowstep_cop>
                            <or_copy
                                jcr:created="{Date}2018-10-03T10:02:55.645-04:00"
                                jcr:createdBy="admin"
                                jcr:lastModified="{Date}2018-10-03T10:04:12.399-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/workflow/components/model/or"
                                branches="2"
                                orSplit="true"
                                script1="function check(){&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; if(lastAction == &quot;Request Changes&quot;) {&#xd;&#xa;  return true;&#xd;&#xa;}&#xd;&#xa;return false;&#xd;&#xa;}">
                                <_x0031_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <taskworkflowstep
                                        jcr:created="{Date}2018-10-03T09:57:05.742-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Project Task Creation Step"
                                        jcr:lastModified="{Date}2018-10-09T14:25:38.758-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back to Designer"
                                        sling:resourceType="cq/projects/taskworkflowstep">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            argActions="[Send for Another Approval,Close the Task ( No need for another approval)]"
                                            argTaskDescription="Request for Changes has come, as a follow-up to Approval request task. "
                                            argTaskName="Compliance - Request Changes"
                                            PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                                            script="var initiator = workItem.getWorkflow().getInitiator();&#xd;&#xa;task.setCurrentAssignee(initiator);&#xd;&#xa;"
                                            sendEmailNotification="true"
                                            workflowStage="Send Back for Rework"/>
                                    </taskworkflowstep>
                                    <goto
                                        jcr:created="{Date}2018-10-03T10:13:41.660-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="Goto Step"
                                        jcr:lastModified="{Date}2018-10-03T10:41:42.803-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="Send Back for Approval"
                                        sling:resourceType="cq/workflow/components/model/goto">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="com.adobe.granite.workflow.core.process.GotoProcess"
                                            PROCESS_AUTO_ADVANCE="false"
                                            script="function check() {&#xd;&#xa;var lastAction = workflowData.getMetaDataMap().get(&quot;lastTaskAction&quot;,&quot;&quot;);&#xd;&#xa; &#xd;&#xa;if(lastAction == &quot;Send for Another Approval&quot;) {&#xd;&#xa;    return true;&#xd;&#xa;}&#xd;&#xa; &#xd;&#xa;return false;&#xd;&#xa;}&#xd;&#xa;"
                                            TARGET_NODE_PATH="/conf/global/settings/workflow/models/creative-assets-review-approval/jcr:content/flow/and/5/or/1/taskworkflowstep_cop"
                                            workflowStage="Approvals"/>
                                    </goto>
                                </_x0031_>
                                <_x0032_
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/flow/components/parsys">
                                    <noopprocess_copy
                                        jcr:created="{Date}2018-10-02T10:41:13.185-04:00"
                                        jcr:createdBy="admin"
                                        jcr:description="A no operation process"
                                        jcr:lastModified="{Date}2018-10-02T11:22:32.100-04:00"
                                        jcr:lastModifiedBy="admin"
                                        jcr:primaryType="nt:unstructured"
                                        jcr:title="No Operation"
                                        sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                        <metaData
                                            jcr:primaryType="nt:unstructured"
                                            PROCESS="/libs/workflow/scripts/noop.ecma"
                                            PROCESS_AUTO_ADVANCE="true"/>
                                    </noopprocess_copy>
                                </_x0032_>
                            </or_copy>
                        </_x0031_>
                        <_x0032_
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/flow/components/parsys">
                            <noopprocess
                                jcr:created="{Date}2018-10-02T10:42:47.662-04:00"
                                jcr:createdBy="admin"
                                jcr:description="A no operation process"
                                jcr:lastModified="{Date}2018-10-02T11:22:52.061-04:00"
                                jcr:lastModifiedBy="admin"
                                jcr:primaryType="nt:unstructured"
                                jcr:title="No Operation"
                                sling:resourceType="cq/workflow/components/workflow/noopprocess">
                                <metaData
                                    jcr:primaryType="nt:unstructured"
                                    PROCESS="/libs/workflow/scripts/noop.ecma"
                                    PROCESS_AUTO_ADVANCE="true"/>
                            </noopprocess>
                        </_x0032_>
                    </or>
                </_x0035_>
            </and>
            <process
                jcr:created="{Date}2018-10-04T17:26:38.304-04:00"
                jcr:createdBy="admin"
                jcr:description="This task copies source files of mime type mentioned on Process tab Arguments filed (e.g:application/x-indesign|application/postscript)  f from WIP location to Master folder and PDF equivalents generated by Indesign server to Final folder selected by user while initiating the workflow"
                jcr:lastModified="{Date}2018-10-12T14:53:58.431-04:00"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Copy to Master and Final"
                sling:resourceType="cq/workflow/components/model/process">
                <metaData
                    jcr:primaryType="nt:unstructured"
                    PROCESS="com.adobe.summit23.l717.AEMaaCS Transition.AutoMoveApprovedCreativeAssets"
                    PROCESS_ARGS="application/x-indesign|application/postscript"
                    PROCESS_AUTO_ADVANCE="true"/>
            </process>
            <taskworkflowstep
                jcr:created="{Date}2018-10-01T11:40:00.781-04:00"
                jcr:createdBy="admin"
                jcr:description="Create a task for Designer to notify that approvals complete and the assets moved and ready to be uploaded to LPDS"
                jcr:lastModified="{Date}2018-10-09T14:30:38.403-04:00"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Approval Process Complete"
                sling:resourceType="cq/projects/taskworkflowstep">
                <metaData
                    jcr:primaryType="nt:unstructured"
                    argActions="Uploaded to LPDS"
                    argTaskDescription="Approvals from all the parties requested are complete."
                    argTaskName="Approval Process Complete - Upload to LPDS"
                    argTaskPriority="Medium"
                    PROCESS="com.adobe.cq.projects.impl.workflow.ProjectTaskWorkflowProcess"
                    PROCESS_AUTO_ADVANCE="false"
                    PROCESS_PERSIST_ANONYMOUS_WORKITEM="true"
                    script="var initiator = workItem.getWorkflow().getInitiator();&#xd;&#xa;task.setCurrentAssignee(initiator);&#xd;&#xa;"
                    sendEmailNotification="true"
                    workflowStage="Upload to LPDS"/>
            </taskworkflowstep>
        </flow>
        <image jcr:primaryType="nt:unstructured">
            <file/>
        </image>
    </jcr:content>
</jcr:root>
